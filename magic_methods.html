<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
	<title></title>
	<meta name="generator" content="LibreOffice 7.4.7.2 (Linux)"/>
	<meta name="created" content="2023-06-16T14:21:19.175404707"/>
	<meta name="changed" content="2023-06-16T14:36:00.246839592"/>
	<style type="text/css">
		@page { size: 21cm 29.7cm; margin-left: 0.53cm; margin-right: 0.56cm; margin-top: 0.71cm; margin-bottom: 0.49cm }
		p { line-height: 115%; margin-bottom: 0.25cm; background: transparent }
		pre { font-family: "Liberation Mono", monospace; font-size: 10pt; background: transparent }
		h1 { margin-bottom: 0.21cm; background: transparent; page-break-after: avoid }
		h1.western { font-family: "Liberation Sans", sans-serif; font-size: 18pt; font-weight: bold }
		h1.cjk { font-family: "Source Han Sans CN"; font-size: 18pt; font-weight: bold }
		h1.ctl { font-family: "Droid Sans Devanagari"; font-size: 18pt; font-weight: bold }
		code { font-family: "Liberation Mono", monospace }
		a:link { color: #000080; text-decoration: underline }
		a:visited { color: #800000; text-decoration: underline }
	</style>
</head>
<body lang="ru-RU" link="#000080" vlink="#800000" dir="ltr"><h1 class="western" style="page-break-before: always">
Магические методы</h1>
<pre style="line-height: 100%"><font face="Liberation Mono, monospace"><font size="3" style="font-size: 12pt">class MyClass:</font></font>
    <font face="Liberation Mono, monospace"><font size="3" style="font-size: 12pt">def <b>__init__</b>(self, value):</font></font>
        <font face="Liberation Mono, monospace"><font size="3" style="font-size: 12pt">self.value = value</font></font>

    <font face="Liberation Mono, monospace"><font size="3" style="font-size: 12pt">def <b>__str__</b>(self):</font></font>
        <font face="Liberation Mono, monospace"><font size="3" style="font-size: 12pt">return f&quot;MyClass with value: {self.value}&quot;</font></font>
    <font face="Liberation Mono, monospace"><font size="3" style="font-size: 12pt"><b># Магический метод __str__ позволяет определить строковое представление объекта.</b></font></font>
    <font face="Liberation Mono, monospace"><font size="3" style="font-size: 12pt"><b># Он вызывается при вызове функции str() или при преобразовании объекта в строку.</b></font></font>
    <font face="Liberation Mono, monospace"><font size="3" style="font-size: 12pt"><b># Возвращает строку, которая будет представлять объект.</b></font></font>

    <font face="Liberation Mono, monospace"><font size="3" style="font-size: 12pt">def __len__(self):</font></font>
        <font face="Liberation Mono, monospace"><font size="3" style="font-size: 12pt">return len(self.value)</font></font>
    <font face="Liberation Mono, monospace"><font size="3" style="font-size: 12pt"><b># Магический метод __len__ позволяет определить длину объекта.</b></font></font>
    <font face="Liberation Mono, monospace"><font size="3" style="font-size: 12pt"><b># Он вызывается при вызове функции len().</b></font></font>
    <font face="Liberation Mono, monospace"><font size="3" style="font-size: 12pt"><b># Возвращает целочисленное значение, представляющее длину объекта.</b></font></font>

<font face="Liberation Mono, monospace"><font size="3" style="font-size: 12pt">class MyList:</font></font>
    <font face="Liberation Mono, monospace"><font size="3" style="font-size: 12pt">def <b>__init__</b>(self, items):</font></font>
        <font face="Liberation Mono, monospace"><font size="3" style="font-size: 12pt">self.items = items</font></font>

    <font face="Liberation Mono, monospace"><font size="3" style="font-size: 12pt">def <b>__len__</b>(self):</font></font>
        <font face="Liberation Mono, monospace"><font size="3" style="font-size: 12pt">return len(self.items)</font></font>
    <font face="Liberation Mono, monospace"><font size="3" style="font-size: 12pt"><b># Магический метод __len__ позволяет определить длину объекта.</b></font></font>
    <font face="Liberation Mono, monospace"><font size="3" style="font-size: 12pt"><b># Он вызывается при вызове функции len().</b></font></font>
    <font face="Liberation Mono, monospace"><font size="3" style="font-size: 12pt"><b># Возвращает целочисленное значение, представляющее длину объекта.</b></font></font>

    <font face="Liberation Mono, monospace"><font size="3" style="font-size: 12pt">def <b>__getitem__</b>(self, index):</font></font>
        <font face="Liberation Mono, monospace"><font size="3" style="font-size: 12pt">return self.items[index]</font></font>
    <font face="Liberation Mono, monospace"><font size="3" style="font-size: 12pt"><b># Магический метод __getitem__ позволяет обращаться к элементам объекта по индексу.</b></font></font>
    <font face="Liberation Mono, monospace"><font size="3" style="font-size: 12pt"><b># Он вызывается при использовании оператора [] для доступа к элементам объекта.</b></font></font>
    <font face="Liberation Mono, monospace"><font size="3" style="font-size: 12pt"><b># Возвращает значение элемента по заданному индексу.</b></font></font>

    <font face="Liberation Mono, monospace"><font size="3" style="font-size: 12pt">def <b>__setitem__</b>(self, index, value):</font></font>
        <font face="Liberation Mono, monospace"><font size="3" style="font-size: 12pt">self.items[index] = value</font></font>
    <font face="Liberation Mono, monospace"><font size="3" style="font-size: 12pt"><b># Магический метод __setitem__ позволяет изменять элементы объекта по индексу.</b></font></font>
    <font face="Liberation Mono, monospace"><font size="3" style="font-size: 12pt"><b># Он вызывается при использовании оператора [] для присваивания значения элементу.</b></font></font>
    <font face="Liberation Mono, monospace"><font size="3" style="font-size: 12pt"><b># Присваивает значение элементу по заданному индексу.</b></font></font>

    <font face="Liberation Mono, monospace"><font size="3" style="font-size: 12pt">def <b>__delitem__</b>(self, index):</font></font>
        <font face="Liberation Mono, monospace"><font size="3" style="font-size: 12pt">del self.items[index]</font></font>
    <font face="Liberation Mono, monospace"><font size="3" style="font-size: 12pt"><b># Магический метод __delitem__ позволяет удалять элементы объекта по индексу.</b></font></font>
    <font face="Liberation Mono, monospace"><font size="3" style="font-size: 12pt"><b># Он вызывается при использовании оператора del для удаления элемента.</b></font></font>
    <font face="Liberation Mono, monospace"><font size="3" style="font-size: 12pt"><b># Удаляет элемент по заданному индексу.</b></font></font>

<font face="Liberation Mono, monospace"><font size="2" style="font-size: 10pt"><code><font size="3" style="font-size: 12pt">class Point:</font></code></font></font>
<code>    <font size="3" style="font-size: 12pt">def </font></code><code><font size="3" style="font-size: 12pt"><b>__init__</b></font></code><code><font size="3" style="font-size: 12pt">(self, x, y):</font></code>
<code>        <font size="3" style="font-size: 12pt">self.x = x</font></code>
<code>        <font size="3" style="font-size: 12pt">self.y = y</font></code>

<code>    <font size="3" style="font-size: 12pt">def </font></code><code><font size="3" style="font-size: 12pt"><b>__eq__</b></font></code><code><font size="3" style="font-size: 12pt">(self, other):</font></code>
<code>        <font size="3" style="font-size: 12pt">return self.x == other.x and self.y == other.y</font></code>
<code>   </code><code> <font size="3" style="font-size: 12pt"><b># Магический метод __eq__ позволяет определить операцию сравнения ==</b></font></code>
<code>    <font size="3" style="font-size: 12pt"><b># Он вызывается при использовании оператора == для сравнения двух объектов.</b></font></code>
<code>    <font size="3" style="font-size: 12pt"><b># Возвращает True, если объекты равны, и False в противном случае.</b></font></code>

<code>    <font size="3" style="font-size: 12pt">def </font></code><code><font size="3" style="font-size: 12pt"><b>__add__</b></font></code><code><font size="3" style="font-size: 12pt">(self, other):</font></code>
<code>        <font size="3" style="font-size: 12pt">return Point(self.x + other.x, self.y + other.y)</font></code>
<code>    </code><code><font size="3" style="font-size: 12pt"><b># Магический метод __add__ позволяет определить операцию сложения +</b></font></code>
<code>    <font size="3" style="font-size: 12pt"><b># Он вызывается при использовании оператора + для сложения двух объектов.</b></font></code>
<code>    <font size="3" style="font-size: 12pt"><b># Возвращает новый объект, являющийся результатом сложения.</b></font></code>

<code>    <font size="3" style="font-size: 12pt">def </font></code><code><font size="3" style="font-size: 12pt"><b>__str__</b></font></code><code><font size="3" style="font-size: 12pt">(self):</font></code>
<code>        <font size="3" style="font-size: 12pt">return f&quot;Point({self.x}, {self.y})&quot;</font></code>
<code>    </code><code><font size="3" style="font-size: 12pt"><b># Магический метод __str__ определен выше (был в предыдущем примере)</b></font></code>
<code>    <font size="3" style="font-size: 12pt"><b># Он вызывается при вызове функции str() или при преобразовании объекта в строку.</b></font></code>
<code>    <font size="3" style="font-size: 12pt"><b># Возвращает строку, которая будет представлять объект.</b></font></code>

<font face="Liberation Mono, monospace"><font size="2" style="font-size: 10pt"><code><font size="3" style="font-size: 12pt">class Fraction:</font></code></font></font>
<code>    <font size="3" style="font-size: 12pt">def </font></code><code><font size="3" style="font-size: 12pt"><b>__init__</b></font></code><code><font size="3" style="font-size: 12pt">(self, numerator, denominator):</font></code>
<code>        <font size="3" style="font-size: 12pt">self.numerator = numerator</font></code>
<code>        <font size="3" style="font-size: 12pt">self.denominator = denominator</font></code>

<code>    <font size="3" style="font-size: 12pt">def </font></code><code><font size="3" style="font-size: 12pt"><b>__repr__</b></font></code><code><font size="3" style="font-size: 12pt">(self):</font></code>
<code>        <font size="3" style="font-size: 12pt">return f&quot;Fraction({self.numerator}, {self.denominator})&quot;</font></code>
<code>    </code><code><font size="3" style="font-size: 12pt"><b># Магический метод __repr__ позволяет определить строковое представление объекта.</b></font></code>
<code>    <font size="3" style="font-size: 12pt"><b># Он вызывается при использовании функции repr() для получения формализованного представления объекта.</b></font></code>
<code>    <font size="3" style="font-size: 12pt"><b># Возвращает строку, которая должна представлять объект.</b></font></code>

<code>    <font size="3" style="font-size: 12pt">def </font></code><code><font size="3" style="font-size: 12pt"><b>__len__</b></font></code><code><font size="3" style="font-size: 12pt">(self):</font></code>
<code>        <font size="3" style="font-size: 12pt">return self.numerator</font></code>
<code>  </code><code>  <font size="3" style="font-size: 12pt"><b># Магический метод __len__ позволяет определить длину объекта.</b></font></code>
<code>    <font size="3" style="font-size: 12pt"><b># Он вызывается при использовании функции len() для получения длины объекта.</b></font></code>
<code>    <font size="3" style="font-size: 12pt"><b># Возвращает целое число, представляющее длину объекта.</b></font></code>

<code>    <font size="3" style="font-size: 12pt">def </font></code><code><font size="3" style="font-size: 12pt"><b>__contains__</b></font></code><code><font size="3" style="font-size: 12pt">(self, item):</font></code>
<code>        <font size="3" style="font-size: 12pt">return item % self.denominator == 0</font></code>
<code>   </code><code> <font size="3" style="font-size: 12pt"><b># Магический метод __contains__ позволяет определить принадлежность элемента объекту.</b></font></code>
<code>    <font size="3" style="font-size: 12pt"><b># Он вызывается при использовании оператора in для проверки, содержится ли элемент в объекте.</b></font></code>
<code>    <font size="3" style="font-size: 12pt"><b># Возвращает True, если элемент принадлежит объекту, и False в противном случае.</b></font></code></pre>
</body>
</html>